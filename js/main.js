var ClassRosterApp = angular.module('ClassRoster', ['ngResource']);

ClassRosterApp.config(function($interpolateProvider) {
  $interpolateProvider.startSymbol('((');
  $interpolateProvider.endSymbol('))');
});

ClassRosterApp.controller('ClassRosterCtrl', function ClassRosterCtrl($scope, $resource) {
  $scope.source = $resource(
    'http://42.121.35.233\\:9001/school/api/:version/class/my/?format=:format&username=:username&api_key=:api_key'
    , { 
      version: 'v1'
      , format: 'json'
      , username:'super'
      , api_key:'123456'
      , callback: 'JSON_CALLBACK'
    }
    , { list: { method: 'JSONP' } }
  );

  // $scope.RosterResult = $scope.source.list();

  $scope.RosterResult = {"meta": {"limit": 6, "next": null, "offset": 0, "previous": null, "total_count": 2}, "objects": [{"end": "2014-02-12", "home_url": "", "id": 1, "name": "Grade 6 Math", "resource_uri": "/school/api/v1/class/1/", "start": "2013-11-04", "student_list": [{"UID": "d71c1c2a-6d06-4c0d-b246-849a306f316f", "introduction": "", "resource_uri": "/school/api/v1/student/7/", "schoolgrade": "", "student": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "stu1@airlink.com", "first_name": "Mark", "id": 7, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T11:51:03", "last_name": "Antony", "major_role": "Student", "mobile": "45678901", "online_status": false, "resource_uri": "/school/api/v1/user/7/", "username": "stu1"}}, {"UID": "834ea6f1-93b0-4b2c-b2db-de07219e12b1", "introduction": "", "resource_uri": "/school/api/v1/student/8/", "schoolgrade": "", "student": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "stu2@airlink.com", "first_name": "Cleopatra", "id": 8, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T11:51:03", "last_name": "Tolemi", "major_role": "Student", "mobile": "56789012", "online_status": false, "resource_uri": "/school/api/v1/user/8/", "username": "stu2"}}], "teacher_list": [{"belongToSchool": "Harvard Business School", "introduction": "This is not a english teacher. ", "resource_uri": "/school/api/v1/teacher/2/", "subjects": "English", "teacher": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "super@airlink.com", "first_name": "Julius", "id": 2, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T20:27:30", "last_name": "Caesar", "major_role": "Teacher", "mobile": "123456789", "online_status": false, "resource_uri": "/school/api/v1/user/2/", "username": "super"}}, {"belongToSchool": "Seedlink HighTech School", "introduction": "", "resource_uri": "/school/api/v1/teacher/5/", "subjects": "Math", "teacher": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "tea1@airlink.com", "first_name": "Cicero", "id": 5, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T12:04:18", "last_name": "Cassius", "major_role": "Teacher", "mobile": "34567890", "online_status": false, "resource_uri": "/school/api/v1/user/5/", "username": "tea1"}}]}, {"end": "2014-02-12", "home_url": "", "id": 2, "name": "Grade 6 English", "resource_uri": "/school/api/v1/class/2/", "start": "2013-11-04", "student_list": [{"UID": "ce43c35e-d740-495d-8fab-f67f9969b47b", "introduction": "", "resource_uri": "/school/api/v1/student/9/", "schoolgrade": "", "student": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:04", "email": "stu3@airlink.com", "first_name": "Octavius", "id": 9, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T11:51:03", "last_name": "Thurinus", "major_role": "Student", "mobile": "34215643", "online_status": false, "resource_uri": "/school/api/v1/user/9/", "username": "stu3"}}, {"UID": "e918873a-0ee2-4feb-ba9b-5d4d2f28f7f1", "introduction": "", "resource_uri": "/school/api/v1/student/10/", "schoolgrade": "", "student": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:04", "email": "stu2@airlink.com", "first_name": "Ulpius", "id": 10, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T11:51:04", "last_name": "Traianus", "major_role": "Student", "mobile": "89763452", "online_status": false, "resource_uri": "/school/api/v1/user/10/", "username": "stu4"}}], "teacher_list": [{"belongToSchool": "Harvard Business School", "introduction": "This is not a english teacher. ", "resource_uri": "/school/api/v1/teacher/2/", "subjects": "English", "teacher": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "super@airlink.com", "first_name": "Julius", "id": 2, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T20:27:30", "last_name": "Caesar", "major_role": "Teacher", "mobile": "123456789", "online_status": false, "resource_uri": "/school/api/v1/user/2/", "username": "super"}}, {"belongToSchool": "Harvard Business School", "introduction": "", "resource_uri": "/school/api/v1/teacher/6/", "subjects": "English", "teacher": {"avatar": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg?Signature=SFovsgiiy1DEAH4xI%2FffcPfFass%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_medium": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.133x133_q85.jpg?Signature=m166lb56Xv1fJJKvodQjBBvYrSc%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "avatar_small": "https://files-seedlink-com.s3.amazonaws.com/avatars/default.jpg.70x70_q85.jpg?Signature=5Nrxkx2IWOos7TcN7Gy6q%2Fd803E%3D&Expires=1383616029&AWSAccessKeyId=AKIAJTEKBMN2YZVXOFGQ", "birthday": "2013-11-04", "country_code": "86", "date_joined": "2013-11-04T11:51:03", "email": "tea2@airlink.com", "first_name": "Socrates", "id": 6, "is_active": true, "is_staff": false, "is_superuser": false, "language": "Chinese", "last_login": "2013-11-04T11:51:03", "last_name": "Greek", "major_role": "Teacher", "mobile": "56781234", "online_status": false, "resource_uri": "/school/api/v1/user/6/", "username": "tea2"}}]}]};

  $scope.ListRosters = function ( selected ) {
    $scope.selectedClass = selected;
  }

  $scope.selectedClass = $scope.RosterResult.objects[0];
});

$(function () {
  $('.class-selection > .radio').eq(0).addClass('checked');
});